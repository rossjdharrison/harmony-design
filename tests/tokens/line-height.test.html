<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Line Height Tokens Test</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
      background: #f5f5f5;
    }

    h1 {
      color: #1a1a1a;
      margin-bottom: 0.5rem;
    }

    .test-output {
      background: #1a1a1a;
      color: #00ff00;
      padding: 1.5rem;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 0.875rem;
      white-space: pre-wrap;
      margin-top: 2rem;
      max-height: 600px;
      overflow-y: auto;
    }

    .test-summary {
      background: white;
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-top: 1rem;
    }

    .summary-item {
      text-align: center;
      padding: 1rem;
      background: #f5f5f5;
      border-radius: 4px;
    }

    .summary-value {
      font-size: 2rem;
      font-weight: bold;
      color: #0066cc;
    }

    .summary-label {
      color: #666;
      font-size: 0.875rem;
      margin-top: 0.5rem;
    }

    .passed {
      color: #00aa00;
    }

    .failed {
      color: #cc0000;
    }

    .visual-tests {
      background: white;
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 2rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .visual-test-item {
      margin-bottom: 2rem;
      padding: 1rem;
      background: #f5f5f5;
      border-radius: 4px;
    }

    .visual-test-label {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #1a1a1a;
    }

    .test-text {
      font-size: 16px;
      color: #333;
      border-left: 4px solid #0066cc;
      padding-left: 1rem;
    }
  </style>
</head>
<body>
  <h1>Line Height Tokens Test Suite</h1>
  <p style="color: #666;">Automated tests for line height design tokens</p>

  <div class="test-summary" id="summary">
    <h2>Test Summary</h2>
    <div class="summary-grid">
      <div class="summary-item">
        <div class="summary-value" id="total-tests">-</div>
        <div class="summary-label">Total Tests</div>
      </div>
      <div class="summary-item">
        <div class="summary-value passed" id="passed-tests">-</div>
        <div class="summary-label">Passed</div>
      </div>
      <div class="summary-item">
        <div class="summary-value failed" id="failed-tests">-</div>
        <div class="summary-label">Failed</div>
      </div>
    </div>
  </div>

  <div class="visual-tests">
    <h2>Visual Verification Tests</h2>
    <p style="color: #666; margin-bottom: 1.5rem;">
      Verify that line heights render correctly in the browser
    </p>

    <div class="visual-test-item">
      <div class="visual-test-label">Tight (1.2)</div>
      <p class="test-text" id="test-tight">
        The quick brown fox jumps over the lazy dog. This text demonstrates tight line height.
        Multiple lines allow you to see the vertical spacing clearly. Notice how the lines are
        close together, making this ideal for headings.
      </p>
    </div>

    <div class="visual-test-item">
      <div class="visual-test-label">Normal (1.5)</div>
      <p class="test-text" id="test-normal">
        The quick brown fox jumps over the lazy dog. This text demonstrates normal line height.
        Multiple lines allow you to see the vertical spacing clearly. This is the standard
        spacing used for most body text.
      </p>
    </div>

    <div class="visual-test-item">
      <div class="visual-test-label">Relaxed (1.75)</div>
      <p class="test-text" id="test-relaxed">
        The quick brown fox jumps over the lazy dog. This text demonstrates relaxed line height.
        Multiple lines allow you to see the vertical spacing clearly. Notice the extra breathing
        room, ideal for long-form content.
      </p>
    </div>
  </div>

  <div class="test-output" id="output">Running tests...</div>

  <script type="module">
    import { runLineHeightTests } from './line-height.test.js';
    import { applyLineHeight } from '../../tokens/line-height.js';

    // Capture console output
    const outputDiv = document.getElementById('output');
    const originalLog = console.log;
    const originalError = console.error;
    let outputText = '';

    console.log = function(...args) {
      outputText += args.join(' ') + '\n';
      outputDiv.textContent = outputText;
      originalLog.apply(console, args);
    };

    console.error = function(...args) {
      outputText += args.join(' ') + '\n';
      outputDiv.textContent = outputText;
      originalError.apply(console, args);
    };

    // Run tests
    const results = runLineHeightTests();

    // Update summary
    document.getElementById('total-tests').textContent = results.passed + results.failed;
    document.getElementById('passed-tests').textContent = results.passed;
    document.getElementById('failed-tests').textContent = results.failed;

    // Apply line heights to visual test elements
    applyLineHeight(document.getElementById('test-tight'), 'tight');
    applyLineHeight(document.getElementById('test-normal'), 'normal');
    applyLineHeight(document.getElementById('test-relaxed'), 'relaxed');

    // Restore console
    console.log = originalLog;
    console.error = originalError;
  </script>
</body>
</html>